<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Apprentissage automatique interprétable</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../08-global_model_agnostic_methods/08.6-global-surrogate.html" rel="next">
<link href="../08-global_model_agnostic_methods/08.4-functional-decomposition.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Pas de résultats",
    "search-matching-documents-text": "documents trouvés",
    "search-copy-link-title": "Copier le lien vers la recherche",
    "search-hide-matches-text": "Cacher les correspondances additionnelles",
    "search-more-match-text": "correspondance de plus dans ce document",
    "search-more-matches-text": "correspondances de plus dans ce document",
    "search-clear-button-title": "Effacer",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Annuler",
    "search-submit-button-title": "Envoyer",
    "search-label": "Recherche"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre latérale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../08-global_model_agnostic_methods/index.html">8 - Méthodes globales indépendantes du modèle</a></li><li class="breadcrumb-item"><a href="../08-global_model_agnostic_methods/08.5-permutation-feature-importance.html">8.5 - Décomposition fonctionnelle</a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre latérale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Apprentissage automatique interprétable</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Recherche"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../00-summary/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Résumé</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../01-preface/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1 - Préface de l’auteur</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../02-introduction/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2 - Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../02-introduction/02.1-short_stories.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.1 - Quelques histoires</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../02-introduction/02.2-ml_definitions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.2 - Qu’est-ce que l’apprentissage automatique ?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../02-introduction/02.3-terminology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.3 - Terminologie</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../03-interpretability/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3 - Interprétabilité</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03-interpretability/03.1-importance_of_interpretability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3.1 - Importance de l’Interprétabilité</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03-interpretability/03.2-taxonomy_of_interpretability_methods.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3.2 - Taxonomie des Méthodes d’Interprétabilité</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03-interpretability/03.3-scope_of_interpretability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3.3 - Portée de l’Interprétabilité</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03-interpretability/03.4-evaluation_of_interpretability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3.4 - Evaluation de l’interprétabilité</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03-interpretability/03.5-properties_of_explanations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3.5 - Propriétés des Explications</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03-interpretability/03.6-human_friendly_explanations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3.6 - Explications conviviales pour l’être humain</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../04-datasets/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4 - Jeux de données</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../04-datasets/04.1-datasets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4.1 - Location de vélo (Régression)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../04-datasets/04.2-datasets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4.2 - Commentaires indésirables sur YouTube (Classification de Texte)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../04-datasets/04.3-datasets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4.3 - Facteurs de Risque du Cancer du Col de l’Uterus (Classification)</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../05-interpretable_models/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5 - Modèles interprétables</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../05-interpretable_models/05.1-linear-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5.1 - Régéression linéaire</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../05-interpretable_models/05.2-logistic-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5.2 - Régéression logistique</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../05-interpretable_models/05.3-glm-gam-more.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5.3 - GLM, GAM et plus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../05-interpretable_models/05.4-decision-tree.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5.4 - Arbre de décision</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../05-interpretable_models/05.5-decision-rules.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5.5 - Règles de décision</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../05-interpretable_models/05.6-rulefit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5.6 - Ajustement des règles</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../05-interpretable_models/05.7-other-interpretable-models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5.7 - Autres modèles interprétables</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../06-model_agnostic_methods/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6 - Méthodes indépendantes du modèle</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../07-example/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7 - Explications basées sur des exemples</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../08-global_model_agnostic_methods/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8 - Méthodes globales indépendantes du modèle</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../08-global_model_agnostic_methods/08.1-pdp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8.1 - Diagramme de dépendance partielle (PDP)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../08-global_model_agnostic_methods/08.2-ale.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8.2 - Graphique des effets locaux accumulés (ALE)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../08-global_model_agnostic_methods/08.3-feature-interaction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8.3 - Interactions avec les fonctionnalités</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../08-global_model_agnostic_methods/08.4-functional-decomposition.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8.4 - Functional Decomposition</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../08-global_model_agnostic_methods/08.5-permutation-feature-importance.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">8.5 - Décomposition fonctionnelle</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../08-global_model_agnostic_methods/08.6-global-surrogate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8.6 - Substitut global</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../08-global_model_agnostic_methods/08.7-prototype-criticisms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8.7 - Prototypes et critiques</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../09-local_model_agnostic_methods/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">9 - Méthodes locales indépendantes du modèle</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../09-local_model_agnostic_methods/09.1-ice.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">9.1 - Attente Conditionnelle Individuelle (<em>Individual Conditional Expectation - ICE</em>)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../09-local_model_agnostic_methods/09.2-lime.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">9.2 - Substitut local (LIME)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../09-local_model_agnostic_methods/09.3-counterfactual.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">9.3 - Explications contrefactuelles</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../09-local_model_agnostic_methods/09.4-anchors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">9.4 - Règles de portée (ancres)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../09-local_model_agnostic_methods/09.5-shapley.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">9.5 - Valeurs de Shapley</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../09-local_model_agnostic_methods/09.6-shap.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">9.6 - SHAP (SHapley Additive exPlanations)</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../10-neuralnet/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">10 - Interprétation d'un réseau de neurone</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../10-neuralnet/10.1-learned-features.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">10.1 - Caractéristiques apprises</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../10-neuralnet/10.2-pixel-attribution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">10.2 - Attribution de pixel</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../10-neuralnet/10.3-concepts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">10.3 - Détecter les concepts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../10-neuralnet/10.4-adversarial-examples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">10.4 - Exemples adverses</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../10-neuralnet/10.5-influential-instances.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">10.5 - Instances Influentes</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../11-future/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">11 - Un Regard dans une boule de cristal</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../11-future/11.1-future-ml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">11.1 - L’avenir de l’apprentissage automatique</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../11-future/11.2-future-interpretability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">11.2 - L’avenir de l’interprétabilité</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../12-contribute/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">12 - Contribuer à ce livre</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../13-citation/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">13 - Citer ce livre</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../14-translations/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">14 - Traductions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../15-acknowledgements/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">15 - Remerciements</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="4">
    <h2 id="toc-title">Dans cette page</h2>
   
  <ul>
  <li><a href="#décomposition-fonctionnelle" id="toc-décomposition-fonctionnelle" class="nav-link active" data-scroll-target="#décomposition-fonctionnelle">8.5 - Décomposition fonctionnelle</a>
  <ul>
  <li><a href="#théorie" id="toc-théorie" class="nav-link" data-scroll-target="#théorie">8.5.1 - Théorie</a></li>
  <li><a href="#dois-je-calculer-limportance-des-données-de-formation-ou-de-test" id="toc-dois-je-calculer-limportance-des-données-de-formation-ou-de-test" class="nav-link" data-scroll-target="#dois-je-calculer-limportance-des-données-de-formation-ou-de-test">8.5.2 - Dois-je calculer l’importance des données de formation ou de test ?</a></li>
  <li><a href="#exemple-et-interprétation" id="toc-exemple-et-interprétation" class="nav-link" data-scroll-target="#exemple-et-interprétation">8.5.3 - Exemple et interprétation</a></li>
  <li><a href="#avantages" id="toc-avantages" class="nav-link" data-scroll-target="#avantages">8.5.4 Avantages</a></li>
  </ul></li>
  <li><a href="#inconvénients" id="toc-inconvénients" class="nav-link" data-scroll-target="#inconvénients">8.5.5 - Inconvénients</a></li>
  <li><a href="#alternatives" id="toc-alternatives" class="nav-link" data-scroll-target="#alternatives">8.5.6 - Alternatives</a></li>
  <li><a href="#logiciel" id="toc-logiciel" class="nav-link" data-scroll-target="#logiciel">8.5.7 - Logiciel</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../08-global_model_agnostic_methods/index.html">8 - Méthodes globales indépendantes du modèle</a></li><li class="breadcrumb-item"><a href="../08-global_model_agnostic_methods/08.5-permutation-feature-importance.html">8.5 - Décomposition fonctionnelle</a></li></ol></nav>
<div class="quarto-title">
</div>



<div class="quarto-title-meta">

    
  
    <div>
    <div class="quarto-title-meta-heading">Modifié</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">10 mai 2024</p>
    </div>
  </div>
    
  </div>
  


</header>


<section id="décomposition-fonctionnelle" class="level2">
<h2 class="anchored" data-anchor-id="décomposition-fonctionnelle">8.5 - Décomposition fonctionnelle</h2>
<p>L’importance des caractéristiques de permutation mesure l’augmentation de l’erreur de prédiction du modèle après la permutation des valeurs de la caractéristique, ce qui rompt la relation entre la caractéristique et le résultat réel.</p>
<section id="théorie" class="level3">
<h3 class="anchored" data-anchor-id="théorie">8.5.1 - Théorie</h3>
<p>Le concept est très simple : nous mesurons l’importance d’une caractéristique en calculant l’augmentation de l’erreur de prédiction du modèle après permutation de la caractéristique. Une caractéristique est « importante » si le mélange de ses valeurs augmente l’erreur du modèle, car dans ce cas, le modèle s’est appuyé sur la caractéristique pour la prédiction. Une caractéristique est « sans importance » si le mélange de ses valeurs laisse l’erreur du modèle inchangée, car dans ce cas, le modèle a ignoré la caractéristique pour la prédiction. La mesure de l’importance des caractéristiques de permutation a été introduite par Breiman (2001)<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> pour les forêts aléatoires. Sur la base de cette idée, Fisher, Rudin et Dominici (2018)<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> ont proposé une version indépendante du modèle de l’importance des caractéristiques et l’ont appelée dépendance du modèle. Ils ont également introduit des idées plus avancées sur l’importance des fonctionnalités, par exemple une version (spécifique au modèle) qui prend en compte le fait que de nombreux modèles de prédiction peuvent bien prédire les données. Leur article mérite d’être lu.</p>
<p><strong>L’algorithme d’importance des caractéristiques de permutation basé sur Fisher, Rudin et Dominici (2018)</strong> :</p>
<p>Entrée : modèle formé <span class="math inline">\(\hat{f}\)</span>, matrice de fonctionnalités <span class="math inline">\(X\)</span>, vecteur cible <span class="math inline">\(y\)</span>, mesure d’erreur <span class="math inline">\(L(y,\hat{f})\)</span>.</p>
<ol type="1">
<li>Estimer l’erreur du modèle d’origine <span class="math inline">\(e_{orig} = L(y, \hat{f}(X))\)</span> (par exemple erreur quadratique moyenne)</li>
<li>Pour chaque caractéristique <span class="math inline">\(j \in \{1,...,p\}\)</span> faire:
<ul>
<li>Générer une matrice de fonctionnalités <span class="math inline">\(X_{perm}\)</span> en permutant la fonctionnalité <span class="math inline">\(j\)</span> et le vrai résultat <span class="math inline">\(y\)</span>.</li>
<li>Estimer l’erreur <span class="math inline">\(e_{perm} = L(Y,\hat{f}(X_{perm}))\)</span> basée sur les prédictions des données permutées.</li>
<li>Calculer l’importance des caractéristiques de permutation sous forme de quotient <span class="math inline">\(FI_j= e_{perm}/e_{orig}\)</span> ou de différence <span class="math inline">\(FI_j = e_{perm} - e_{orig}\)</span>.</li>
<li>Trier les entités par <span class="math inline">\(FI\)</span> décroissant.</li>
</ul></li>
</ol>
<p>Fisher, Rudin et Dominici (2018) suggèrent dans leur article de diviser l’ensemble de données en deux et d’échanger les valeurs de la caractéristique <span class="math inline">\(j\)</span> des deux moitiés au lieu de permuter la caractéristique <span class="math inline">\(j\)</span>. C’est exactement la même chose que la permutation de la fonctionnalité <span class="math inline">\(j\)</span>, si vous y réfléchissez. Si vous souhaitez une estimation plus précise, vous pouvez estimer l’erreur de permutation de la caractéristique <span class="math inline">\(j\)</span> en associant chaque instance à la valeur de la caractéristique <span class="math inline">\(j\)</span> de chaque autre instance (sauf avec elle-même). Cela vous donne un ensemble de données de taille <span class="math inline">\(n(n-1)\)</span> pour estimer l’erreur de permutation, et cela prend beaucoup de temps de calcul. Je ne peux recommander d’utiliser la <span class="math inline">\(n(n-1)\)</span> méthode - que si vous souhaitez sérieusement obtenir des estimations extrêmement précises.</p>
</section>
<section id="dois-je-calculer-limportance-des-données-de-formation-ou-de-test" class="level3">
<h3 class="anchored" data-anchor-id="dois-je-calculer-limportance-des-données-de-formation-ou-de-test">8.5.2 - Dois-je calculer l’importance des données de formation ou de test ?</h3>
<p><em>tl;dr : Vous devriez probablement utiliser des données de test.</em></p>
<p>Répondre à la question sur les données de formation ou de test touche à la question fondamentale de savoir quelle est l’importance des fonctionnalités. La meilleure façon de comprendre la différence entre l’importance des fonctionnalités basée sur la formation et celle basée sur les données de test est un exemple « extrême ». J’ai entraîné une machine à vecteurs de support pour prédire un résultat cible continu et aléatoire étant donné 50 caractéristiques aléatoires (200 instances). Par « aléatoire », j’entends que le résultat cible est indépendant des 50 caractéristiques. C’est comme prédire la température de demain à partir des derniers chiffres de loterie. Si le modèle « apprend » des relations, il est alors surajusté. Et en fait, le SVM a surajusté les données d’entraînement. L’erreur absolue moyenne (abréviation : mae) pour les données d’entraînement est de 0,29 et pour les données de test de 0,82, ce qui est également l’erreur du meilleur modèle possible qui prédit toujours le résultat moyen de 0 (mae de 0,78). En d’autres termes, le modèle SVM est une poubelle. Quelles valeurs d’importance des fonctionnalités attendez-vous pour les 50 fonctionnalités de ce SVM suréquipé ? Zéro parce qu’aucune des fonctionnalités ne contribue à améliorer les performances sur des données de test invisibles ? Ou les importances devraient-elles refléter dans quelle mesure le modèle dépend de chacune des caractéristiques, que les relations apprises se généralisent ou non à des données invisibles ? Voyons en quoi les distributions des importances des fonctionnalités pour les données de formation et de test diffèrent.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images2/8_5_2_fig_1.png" class="img-fluid figure-img" data-align="center"></p>
<figcaption>Distributions des valeurs d’importance des caractéristiques par type de données. Un SVM a été formé sur un ensemble de données de régression avec 50 fonctionnalités aléatoires et 200 instances. Le SVM surajuste les données : l’importance des fonctionnalités basée sur les données d’entraînement montre de nombreuses fonctionnalités importantes. Calculées sur des données de test invisibles, les importances des fonctionnalités sont proches d’un rapport de un (= sans importance).</figcaption>
</figure>
</div>
<p>Je ne sais pas lequel des deux résultats est le plus souhaitable. Je vais donc essayer de défendre les deux versions.</p>
<p><strong>Le cas des données de test</strong></p>
<p>Il s’agit d’un cas simple : les estimations d’erreurs de modèle basées sur les données d’entraînement sont des ordures -&gt; l’importance des caractéristiques repose sur les estimations d’erreurs du modèle -&gt; l’importance des caractéristiques basée sur les données d’entraînement est une ordure. En réalité, c’est l’une des premières choses que vous apprenez en apprentissage automatique : si vous mesurez l’erreur (ou les performances) du modèle sur les mêmes données sur lesquelles le modèle a été formé, la mesure est généralement trop optimiste, ce qui signifie que le modèle semble fonctionne bien mieux qu’il ne le fait en réalité. Et comme l’importance des caractéristiques de permutation repose sur des mesures de l’erreur du modèle, nous devrions utiliser des données de test invisibles. L’importance des fonctionnalités basée sur les données d’entraînement nous fait croire à tort que les fonctionnalités sont importantes pour les prédictions, alors qu’en réalité le modèle était simplement surajusté et les fonctionnalités n’étaient pas importantes du tout.</p>
<p><strong>Le cas des données de formation</strong></p>
<p>Les arguments en faveur de l’utilisation des données de formation sont un peu plus difficiles à formuler, mais à mon humble avis, ils sont tout aussi convaincants que les arguments en faveur de l’utilisation des données de test. Nous jetons un autre regard sur notre SVM poubelle. D’après les données d’entraînement, la fonctionnalité la plus importante était X42. Regardons un tracé de dépendance partielle de la fonctionnalité X42. Le tracé de dépendance partielle montre comment la sortie du modèle change en fonction des modifications de la fonctionnalité et ne repose pas sur l’erreur de généralisation. Peu importe que le PDP soit calculé avec des données d’entraînement ou de test.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images2/8_5_2_fig_2.png" class="img-fluid figure-img" data-align="center"></p>
<figcaption>PDP de la fonctionnalité X42, qui est la fonctionnalité la plus importante selon l’importance de la fonctionnalité basée sur les données d’entraînement. Le graphique montre comment le SVM dépend de cette fonctionnalité pour faire des prédictions.</figcaption>
</figure>
</div>
<p>Le graphique montre clairement que le SVM a appris à s’appuyer sur la fonctionnalité X42 pour ses prédictions, mais selon l’importance de la fonctionnalité basée sur les données de test (1), ce n’est pas important. Sur la base des données de formation, l’importance est de 1,19, ce qui reflète que le modèle a appris à utiliser cette fonctionnalité. L’importance des fonctionnalités basée sur les données d’entraînement nous indique quelles fonctionnalités sont importantes pour le modèle dans le sens où il en dépend pour faire des prédictions.</p>
<p>Dans le cadre de l’utilisation des données de formation, je voudrais introduire un argument contre les données de test. En pratique, vous souhaitez utiliser toutes vos données pour entraîner votre modèle afin d’obtenir au final le meilleur modèle possible. Cela signifie qu’il ne reste aucune donnée de test inutilisée pour calculer l’importance des fonctionnalités. Vous rencontrez le même problème lorsque vous souhaitez estimer l’erreur de généralisation de votre modèle. Si vous utilisiez la validation croisée (imbriquée) pour l’estimation de l’importance des caractéristiques, vous rencontreriez le problème que l’importance des caractéristiques n’est pas calculée sur le modèle final avec toutes les données, mais sur des modèles avec des sous-ensembles de données qui pourraient se comporter différemment.</p>
<p>Cependant, en fin de compte, je recommande d’utiliser les données de test pour l’importance des fonctionnalités de permutation. Parce que si vous souhaitez savoir dans quelle mesure les prédictions du modèle sont influencées par une fonctionnalité, vous devez utiliser d’autres mesures d’importance telles que <a href="../09-local_model_agnostic_methods/09.6-shap.html">l’importance SHAP</a>.</p>
<p>Ensuite, nous examinerons quelques exemples. J’ai basé le calcul de l’importance sur les données de formation, car je devais en choisir une et l’utilisation des données de formation nécessitait quelques lignes de code en moins.</p>
</section>
<section id="exemple-et-interprétation" class="level3">
<h3 class="anchored" data-anchor-id="exemple-et-interprétation">8.5.3 - Exemple et interprétation</h3>
<p>Je montre des exemples de classification et de régression.</p>
<p><strong>Cancer du col de l’utérus (classification)</strong></p>
<p>Nous ajustons un modèle forestier aléatoire pour prédire <a href="../04-datasets/04.3-datasets.html">le cancer du col de l’utérus</a>. Nous mesurons l’augmentation de l’erreur de 1-AUC (1 moins l’aire sous la courbe ROC). Les caractéristiques associées à une erreur de modèle augmentée d’un facteur 1 (= aucun changement) n’étaient pas importantes pour prédire le cancer du col de l’utérus.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images2/8_5_3_fig_1.png" class="img-fluid figure-img" data-align="center"></p>
<figcaption>Importance de chacune des caractéristiques pour prédire le cancer du col de l’utérus avec une forêt aléatoire. La caractéristique la plus importante était les contraceptifs hormonaux..années.. Les contraceptifs.hormonaux.permutants..années. a entraîné une augmentation de l’ASC-1 d’un facteur 6,13.</figcaption>
</figure>
</div>
<p>La caractéristique la plus importante était celle des contraceptifs hormonaux..années. associé à une augmentation d’erreur de 6,13 après permutation.</p>
<p><strong>Partage de vélos (régression)</strong></p>
<p>Nous ajustons un modèle de machine à vecteurs de support pour prédire <a href="../04-datasets/04.1-datasets.html">le nombre de vélos loués</a>, en fonction des conditions météorologiques et des informations du calendrier. Comme mesure d’erreur, nous utilisons l’erreur absolue moyenne.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images2/8_5_3_fig_2.png" class="img-fluid figure-img" data-align="center"></p>
<figcaption>L’importance de chacune des caractéristiques dans la prévision du nombre de vélos avec une machine à vecteurs de support. La caractéristique la plus importante était la température, la moins importante était les vacances.</figcaption>
</figure>
</div>
</section>
<section id="avantages" class="level3">
<h3 class="anchored" data-anchor-id="avantages">8.5.4 Avantages</h3>
<p><strong>Belle interprétation</strong> : l’importance d’une fonctionnalité est l’augmentation de l’erreur de modèle lorsque les informations de la fonctionnalité sont détruites.</p>
<p>L’importance des fonctionnalités fournit un <strong>aperçu global hautement compressé</strong> du comportement du modèle.</p>
<p>Un aspect positif de l’utilisation du taux d’erreur au lieu de la différence d’erreur est que les mesures de l’importance des caractéristiques sont comparables entre différents problèmes .</p>
<p>La mesure d’importance <strong>prend automatiquement en compte toutes les interactions</strong> avec d’autres fonctionnalités. En permutant la fonctionnalité, vous détruisez également les effets d’interaction avec d’autres fonctionnalités. Cela signifie que l’importance des fonctionnalités de permutation prend en compte à la fois l’effet des fonctionnalités principales et les effets d’interaction sur les performances du modèle. Ceci constitue également un inconvénient car l’importance de l’interaction entre deux caractéristiques est incluse dans les mesures d’importance des deux caractéristiques. Cela signifie que l’importance des fonctionnalités ne correspond pas à la baisse totale des performances, mais que la somme est plus importante. Ce n’est que s’il n’y a pas d’interaction entre les caractéristiques, comme dans un modèle linéaire, que les importances s’additionnent approximativement.</p>
<p>L’importance des fonctionnalités de permutation <strong>ne nécessite pas de recyclage du modèle</strong>. Certaines autres méthodes suggèrent de supprimer une fonctionnalité, de recycler le modèle, puis de comparer l’erreur du modèle. Étant donné que le recyclage d’un modèle d’apprentissage automatique peut prendre beaucoup de temps, « seule » permuter une fonctionnalité peut faire gagner beaucoup de temps. Les méthodes d’importance qui recyclent le modèle avec un sous-ensemble de fonctionnalités semblent intuitives à première vue, mais le modèle avec les données réduites n’a aucun sens pour l’importance des fonctionnalités. Nous nous intéressons à l’importance des fonctionnalités d’un modèle fixe. Le recyclage avec un ensemble de données réduit crée un modèle différent de celui qui nous intéresse. Supposons que vous entraîniez un modèle linéaire clairsemé (avec Lasso) avec un nombre fixe d’entités avec un poids non nul. L’ensemble de données comporte 100 fonctionnalités, vous définissez le nombre de poids non nuls sur 5. Vous analysez l’importance de l’une des fonctionnalités qui ont un poids non nul. Vous supprimez la fonctionnalité et recyclez le modèle. Les performances du modèle restent les mêmes car une autre fonctionnalité tout aussi intéressante obtient un poids non nul et votre conclusion serait que la fonctionnalité n’était pas importante. Autre exemple : le modèle est un arbre de décision et nous analysons l’importance de la fonctionnalité qui a été choisie comme première division. Vous supprimez la fonctionnalité et recyclez le modèle. Puisqu’une autre caractéristique est choisie comme première division, l’arbre entier peut être très différent, ce qui signifie que nous comparons les taux d’erreur d’arbres (potentiellement) complètement différents pour décider de l’importance de cette caractéristique pour l’un des arbres.</p>
</section>
</section>
<section id="inconvénients" class="level1">
<h1>8.5.5 - Inconvénients</h1>
<p>L’importance des caractéristiques de permutation est <strong>liée à l’erreur du modèle</strong>. Ce n’est pas mauvais en soi, mais dans certains cas, ce n’est pas ce dont vous avez besoin. Dans certains cas, vous préférerez peut-être savoir dans quelle mesure la sortie du modèle varie pour une fonctionnalité sans considérer ce que cela signifie en termes de performances. Par exemple, vous souhaitez connaître la robustesse de la sortie de votre modèle lorsque quelqu’un manipule les fonctionnalités. Dans ce cas, vous ne seriez pas intéressé par la diminution des performances du modèle lorsqu’une fonctionnalité est permutée, mais par la part de la variance de sortie du modèle qui est expliquée par chaque fonctionnalité. La variance du modèle (expliquée par les caractéristiques) et l’importance des caractéristiques sont fortement corrélées lorsque le modèle généralise bien (c’est-à-dire qu’il ne sur-ajuste pas).</p>
<p>Vous <strong>devez avoir accès au véritable résultat</strong>. Si quelqu’un vous fournit uniquement le modèle et les données non étiquetées – mais pas le véritable résultat – vous ne pouvez pas calculer l’importance des caractéristiques de permutation.</p>
<p>L’importance de la fonctionnalité de permutation dépend du mélange de la fonctionnalité, ce qui ajoute du caractère aléatoire à la mesure. Lorsque la permutation est répétée, <strong>les résultats peuvent varier considérablement</strong>. Répéter la permutation et faire la moyenne des mesures d’importance au fil des répétitions stabilise la mesure, mais augmente le temps de calcul.</p>
<p>Si les caractéristiques sont corrélées, l’importance des caractéristiques de permutation <strong>peut être biaisée par des instances de données irréalistes</strong>. Le problème est le même que pour <a href="../08-global_model_agnostic_methods/08.1-pdp.html">les tracés de dépendance partielle</a> : la permutation des caractéristiques produit des instances de données improbables lorsque deux ou plusieurs caractéristiques sont corrélées. Lorsqu’elles sont positivement corrélées (comme la taille et le poids d’une personne) et que je mélange l’une des caractéristiques, je crée de nouvelles instances peu probables, voire physiquement impossibles (personne de 2 mètres pesant 30 kg par exemple), et pourtant j’utilise ces nouvelles instances pour en mesurer l’importance. En d’autres termes, pour l’importance de la caractéristique de permutation d’une caractéristique corrélée, nous considérons dans quelle mesure les performances du modèle diminuent lorsque nous échangeons la caractéristique avec des valeurs que nous n’observerions jamais dans la réalité. Vérifiez si les caractéristiques sont fortement corrélées et soyez prudent quant à l’interprétation de l’importance des caractéristiques si elles le sont. Cependant, les corrélations par paires pourraient ne pas suffire à révéler le problème.</p>
<p>Autre chose délicate : <strong>l’ajout d’une fonctionnalité corrélée peut diminuer l’importance de la fonctionnalité associée</strong> en répartissant l’importance entre les deux fonctionnalités. Permettez-moi de vous donner un exemple de ce que j’entends par « diviser » l’importance des caractéristiques : nous voulons prédire la probabilité de pluie et utiliser la température à 8h00 de la veille comme caractéristique avec d’autres caractéristiques non corrélées. J’entraîne une forêt aléatoire et il s’avère que la température est la caractéristique la plus importante et tout va bien et je dors bien la nuit suivante. Imaginez maintenant un autre scénario dans lequel j’inclue en plus la température à 9h00 comme caractéristique fortement corrélée à la température à 8h00. La température à 9h00 ne me donne pas beaucoup d’informations supplémentaires si je connais déjà la température à 8h00. Mais avoir plus de fonctionnalités est toujours une bonne chose, n’est-ce pas ? J’entraîne une forêt aléatoire avec les deux caractéristiques de température et les caractéristiques non corrélées. Certains arbres de la forêt aléatoire captent la température de 8h00, d’autres la température de 9h00, encore d’autres les deux et encore d’autres aucune. Les deux caractéristiques de température réunies ont un peu plus d’importance que la caractéristique de température unique auparavant, mais au lieu d’être en haut de la liste des caractéristiques importantes, chaque température se situe désormais quelque part au milieu. En introduisant une caractéristique corrélée, j’ai fait passer la caractéristique la plus importante du haut de l’échelle d’importance à la médiocrité. D’une part, c’est très bien, car cela reflète simplement le comportement du modèle d’apprentissage automatique sous-jacent, ici la forêt aléatoire. La température à 8h00 est tout simplement devenue moins importante car le modèle peut désormais également s’appuyer sur la mesure à 9h00. D’un autre côté, cela rend l’interprétation de l’importance des caractéristiques considérablement plus difficile. Imaginez que vous souhaitiez vérifier les caractéristiques pour détecter les erreurs de mesure. Le contrôle coûte cher et vous décidez de vérifier uniquement les 3 principales caractéristiques les plus importantes. Dans le premier cas, vous vérifieriez la température, dans le second cas, vous n’incluriez aucune fonction de température simplement parce qu’elles partagent désormais l’importance. Même si les valeurs d’importance peuvent avoir un sens au niveau du comportement du modèle, cela prête à confusion si vous avez des fonctionnalités corrélées.</p>
</section>
<section id="alternatives" class="level1">
<h1>8.5.6 - Alternatives</h1>
<p>Un algorithme appelé <a href="https://academic.oup.com/bioinformatics/article/26/10/1340/193348?login=false">PIMP</a> adapte l’algorithme d’importance des caractéristiques de permutation pour fournir des valeurs <span class="math inline">\(p\)</span> pour les importances. Une autre alternative basée sur les pertes consiste à omettre la fonctionnalité des données d’entraînement, à recycler le modèle et à mesurer l’augmentation de la perte. Permuter une fonctionnalité et mesurer l’augmentation de la perte n’est pas le seul moyen de mesurer l’importance d’une fonctionnalité. Les différentes mesures d’importance peuvent être divisées en méthodes spécifiques au modèle et indépendantes du modèle. L’importance de Gini pour les forêts aléatoires ou les coefficients de régression standardisés pour les modèles de régression sont des exemples de mesures d’importance spécifiques au modèle.</p>
<p>Les mesures basées sur la variance constituent une alternative indépendante du modèle à l’importance des caractéristiques de permutation. Les mesures d’importance des caractéristiques basées sur la variance, telles que les indices de Sobol ou <a href="../08-global_model_agnostic_methods/08.4-functional-decomposition.html">l’ANOVA fonctionnelle</a>, accordent une plus grande importance aux caractéristiques qui entraînent une variance élevée dans la fonction de prédiction. <a href="../09-local_model_agnostic_methods/09.6-shap.html">L’importance SHAP</a> présente également des similitudes avec une mesure d’importance basée sur la variance. Si la modification d’une fonctionnalité modifie considérablement le résultat, alors c’est important. Cette définition de l’importance diffère de la définition basée sur la perte, comme dans le cas de l’importance des caractéristiques de permutation. Cela est évident dans les cas où un modèle est suréquipé. Si un modèle surajuste et utilise une fonctionnalité qui n’est pas liée à la sortie, alors l’importance de la fonctionnalité de permutation attribuerait une importance de zéro car cette fonctionnalité ne contribue pas à produire des prédictions correctes. En revanche, une mesure d’importance basée sur la variance peut attribuer une importance élevée à la caractéristique, car la prédiction peut changer considérablement lorsque la caractéristique est modifiée.</p>
<p>Un bon aperçu des diverses techniques d’importance est fourni dans l’article de Wei (2015)<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>.</p>
</section>
<section id="logiciel" class="level1">
<h1>8.5.7 - Logiciel</h1>
<p>Le <code>iml</code> package R a été utilisé pour les exemples. Les packages R <code>DALEX</code> et <code>vip</code>, ainsi que la bibliothèque Python <code>alibi</code>, <code>scikit-learn</code> et <code>rfpimp</code>, implémentent également l’importance des fonctionnalités de permutation indépendante du modèle.</p>
<!-- REFERENCES -->


</section>


<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Retour au sommet</a><div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Notes de bas de page</h2>

<ol>
<li id="fn1"><p>Breiman, Leo.“Random Forests.” Machine Learning 45 (1). Springer: 5-32 (2001).<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Fisher, Aaron, Cynthia Rudin, and Francesca Dominici. “All models are wrong, but many are useful: Learning a variable’s importance by studying an entire class of prediction models simultaneously.” http://arxiv.org/abs/1801.01489 (2018).<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Wei, Pengfei, Zhenzhou Lu, and Jingwen Song. “Variable importance analysis: a comprehensive review.” Reliability Engineering &amp; System Safety 142 (2015): 399-432.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copié");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copié");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../08-global_model_agnostic_methods/08.4-functional-decomposition.html" class="pagination-link  aria-label=" 8.4="" -="" functional="" decomposition"="">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">8.4 - Functional Decomposition</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../08-global_model_agnostic_methods/08.6-global-surrogate.html" class="pagination-link" aria-label="8.6 - Substitut global">
        <span class="nav-page-text">8.6 - Substitut global</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>